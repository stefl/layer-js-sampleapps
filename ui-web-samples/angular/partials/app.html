<div ng-controller='chatCtrl'>
  <layer-notifier
    ng-client="appCtrlState.client"
    notify-in-foreground="toast"
    ng-message-notification="onMessageNotification"
    ng-notification-click="onNotificationClick"
  ></layer-notifier>
  <div class="messenger">
    <div class="left-panel">
      <div class="panel-header conversations-header" ng-include="'partials/left-column-header.html'">
      </div>
      <layer-conversations-list
        ng-client="appCtrlState.client"
        ng-selected-conversation-id="chatCtrlState.currentConversation.id"
        ng-conversation-selected="selectConversation"></layer-conversations-list>
    </div>

    <div class="right-panel">
      <div ng-include="'partials/conversation-panel.html'"></div>
    </div>
    <div
      class="announcements-dialog dialog"
      ng-show="chatCtrlState.showAnnouncements"
      ng-click="chatCtrlState.showAnnouncements = false"
      ng-controller="announcementDialogCtrl">
      <div ng-include="'partials/announcements/message-list.html'"></div>
    </div>
    <div
      class="participants-dialog dialog"
      ng-show="chatCtrlState.showParticipants"
      ng-click="chatCtrlState.showParticipants = false"
      ng-controller="participantsDialogCtrl">
      <div ng-include="'partials/participants-dialog.html'"></div>
    </div>
  </div>
</div>
